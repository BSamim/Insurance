'use strict';if(!Object.entries)
Object.entries=function(obj){var ownProps=Object.keys(obj),i=ownProps.length,resArray=new Array(i);while(i--)
resArray[i]=[ownProps[i],obj[ownProps[i]]];return resArray;};var Modal=function(){var options={};var open=function(){try{var selector_id=(typeof options.type!=='undefined'&&options.type!=null&&options.type=='card')?'modal-card':'modal';var selector_content=(options.type=='card')?'modal-card-body':'modal-content';if(typeof options.remote_url!=='undefined'){set_modal_content_remote(options.remote_url,selector_id,selector_content);}else{set_modal_content(options.content,selector_id,selector_content);}
if(options.type=='card'){set_modal_title(options.title,selector_id,selector_content);set_modal_buttons(options.buttons,selector_id);}
open_modal(selector_id);}catch(error){console.log('ERROR: cannot open modal.. Message: '+error.message);}};var close=function(){if(typeof options.on_close==='function'){options.on_close();}
$('html').removeClass('is-clipped');$('.modal').removeClass('is-active');};var reset=function(){options={};};var set_modal_content_remote=function(remote_url,selector_id,selector_content){set_modal_content('<div class="box"><p class="has-text-centered">Loading..</p></div>',selector_id,selector_content);$.ajax({type:'GET',dataType:"html",url:remote_url,success:function(data){if(data!=null){set_modal_content(data,selector_id,selector_content)}
else{throw new Error('Retrieved content for the modal but data was null.');}},error:function(jqXhr,s,e){set_modal_content('<div class="box"><p class="has-text-centered">Oops.. error retrieving content :(</p></div>',selector_id,selector_content);throw new Error('Failed to retrieve the content for the modal. ('+e+')');},complete:function(){}});};var set_modal_content=function(content,selector_id,selector_content){var $target=document.getElementById(selector_id);if(typeof $target!=='undefined'){$target.getElementsByClassName(selector_content)[0].innerHTML=content;}};var set_modal_title=function(title,selector_id){var $target=document.getElementById(selector_id);if(typeof title!=='undefined'&&options.type=='card'&&typeof $target!=='undefined'){$target.getElementsByClassName('modal-card-title')[0].innerHTML=title;}};var set_modal_buttons=function(buttons,selector_id){var $target=document.getElementById(selector_id);if(typeof $target!=='undefined'){$target.getElementsByClassName('modal-card-foot')[0].innerHTML='';}
if(typeof buttons!=='undefined'){var my_buttons=get_footer_buttons();for(var i=0;i<my_buttons.length;i++){$target.getElementsByClassName('modal-card-foot')[0].appendChild(my_buttons[i]);}}};var get_footer_buttons=function(){var elements=[];if(typeof options.buttons==='undefined')return elements;for(var i=0;i<options.buttons.length;i++){var el=document.createElement('button');if(typeof options.buttons[i]["class"]!=='undefined'){el.setAttribute('class','button '+options.buttons[i]["class"]);}
if(typeof options.buttons[i]["on_click"]!=='undefined'&&typeof options.buttons[i]["on_click"]==='function'){var func=options.buttons[i]["on_click"];el.addEventListener('click',func);}
if(typeof options.buttons[i]["copy"]!=='undefined'){el.innerHTML=options.buttons[i]["copy"];}
elements.push(el);}
return elements;};var open_modal=function(selector_id){var $target=document.getElementById(selector_id);document.documentElement.classList.add('is-clipped');$target.classList.add('is-active');};return{Options:options,Open:open,Close:close,Reset:reset,}}();document.addEventListener('DOMContentLoaded',function(){var rootEl=document.documentElement;var $modals=getAll('.modal');var $modalButtons=getAll('.modal-button');var $modalCloses=getAll('.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button');if($modalButtons.length>0){$modalButtons.forEach(function($el){$el.addEventListener('click',function(){var target=$el.dataset.target;var $target=document.getElementById(target);rootEl.classList.add('is-clipped');$target.classList.add('is-active');});});}
if($modalCloses.length>0){$modalCloses.forEach(function($el){$el.addEventListener('click',function(){closeModals();});});}
document.addEventListener('keydown',function(event){var e=event||window.event;if(e.keyCode===27){closeModals();}});function closeModals(){rootEl.classList.remove('is-clipped');$modals.forEach(function($el){$el.classList.remove('is-active');});Modal.Close();}
function getAll(selector){return Array.prototype.slice.call(document.querySelectorAll(selector),0);}});